---
layout: single
title: "create-react-app 으로 시작하기"
---



# create-reacr-app



* 리액트로 웹 어플리케이션을 마들기 위한 개발환경을 제공.
  * 웹팩 : 배포하기 좋은 형태로 묶어주는 도구
  * 바벨 : 자바스크립트 코드를 변환해주는 컴파일러
  * 테스트시스템,  HMR( 이 친구 덕분에 로컬서버를 띄울 수 있음 ), ES6+문법, css 후처리 등 거의 필수적인 개발환경들.
  * 패키지 버전 등 선택지가 여러개 일때, 가장 합리적인 선택을 자동으로 해준다.( 최신버전으로 알아서 설치해줌 )
* `npx create-react-app alda`
  * `npx`
    * npm v5.2.0 부터 새로 추가된 npm을 더 편리하게 사용하기 위해 npm에서 지원하는 도구.
    * npm레지스트리에 올라가 있는 패키지들을 쉽게 섳리하고 관리할수 있도록 도와주는 CLI도구.
      * `CLI` : command line interface 명령어 인터페이스
      * 터미널을 통해 사용자와 컴퓨터가 상호작용 하는 방식.
* `npm start` : 로컬서버를 띄워주는 명령어. ( 개발모드 에서만 동작 )



---



### 파일구조 규칙

* `index.html`, `index.js`, `package.json` 말고는 파일명 수정, 삭제 가능 : 빌드시 예약된 이름
* css파일은 꼭 src 폴더 밑에. ( src 밖에 있는 파일을 import해오려 하면 에러 💥)
* Index.html 에서 참조하는 파일들을 public 밑에.
  * `<script>` 태그로 직접 index.html에 포함해도 되지만, import 해오는걸 추천.
  * 그래야 빌드시 자동으로 압축됨.
* index.html의 내용 직접 수정 가능. 
  * 예를들어 title같은 내용.
  * 그런데 페이지 마다 다른 타이틀이 나와야 한다거나, 검색엔진을 고려해야 한다면 `Next.js`를 사용하자.



---



### 주요명령어

* `npm start` : 개발모드로 프로그램을 실행하는 명령어.
* `HTTPS=true npm start` (맥), `set HTTPS=true && npm start` (윈도우) : API 호출을 위해 HTTPS 로 실행시켜주는 명령어.
* `npm run build` : 배포환경에서 사용할 파일을 만들어주는 명령어.
* `npx serve -s build` : 압축된 정적파일을 로컬 웹 서버에 띄우는 명령어.
  * serve 패키지 : 노드(node.js) 환경에서 동작하는 웹 서버 어플리케이션
* `npm test` : 테스트 코드를 실행시키는 명령어
  * cra는 기본적으로 `jest` 라는 태스트 프레임워크를 기반으로 하는 테스트 시스템이 구축되어 있다.
* `npm run eject` : 숨겨져 있던 내부 설정을 파일 밖으로 노출시키는 명령어
  * 이 명령어를 사용하면 웹팩이나 바벨의 설정을 바꿔줄수 있다.

---



### build

* 빌드 후, 생성된 파일의 이름에는 해시값이 포함되어 있다.
* 사용자 재 방문시 랜더링이 빠른 이유?
  * 파일의 내용이 변경되지 않는다면 해시값은 같고, 새로 빌드 하더라도 변경되지 않은 파일은 브라우저에 캐싱되어 있는 파일이 사용된다.



---



### test

* 밑의 3가지 조건을 만족하면 테스트 파일로 인식한다.
  * `__test__` 폴더 밑에 있는 모든 자바스크립트 파일.
  * `.test.js` 로 파일이름이 끝나는 파일.
  * `.spec.js` 로 파일이름이 끝나는 파일.
* `it`, `expect` 등 제스트 에서 사용하는 함수를 사용하여 테스트 할 수 있다.
* watch모드로 실행되고 있기 때문에 테스트 성공여부를 바로 확인 할 수 있다.
  * `watch 모드` : 파일에서 변한부분을 판단하여 실행
  * watch모드 를 끄고 싶다면 ?
    * 맥 : `CI=true npm test`
    * 윈도우 : `set "CI=true" && npm start` 



---



### 자바스크립트 지원 범위

* Es6 의 모든 기능
* 지수 연산자 / async await / 나머지 연산자, 전개 연산자 / 동적 임포트 / 클래스 필드 / jsx문법 / 타입스크립트, 플로우 타입 시스템
* 만약 es6 이상의 버전에서 지원하는 기능을 상요하고 싶다면 직접 폴리필을 추가해 주어야 한다.
  * 폴리필 : 코드가 실행되는 브라우저 에서 해당 기능이 존재하는지 검사한 후 기 기능이 없을때만 주입하는것.



---



### 코드 분활하기

* 코드를 분활하지 않으면 사용자 에게 필요하지 않은 코드 까지 한번에 재려주기 때문에 첫페이지가 뜨는데 로딩 시간이 오래 걸린다.
* import문을 사용하여 코드를 분활 하자 ! 



---



* 환경변수 사용하기 
  * NODE_ENV 환경변수를 기본적으로 제공.
    * npm start : development
    * npm test : test
    * npm run build : production
* 환경변수가 많아진다면? `.env` 파일을 활용하자.



---



### autoprefixer

* css에서 최신 기능을 사용해야 한다면? Vender 접두사가 붙은 이름을 사용해야 한다 . (-webkit-)
* 그런데 다행히, cra는 autoprefixer 패키지를 통해서 자동으로 붙여준다.
